<!DOCTYPE html>

<html>
    <head>
        <title>Loading</title>
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,900&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Petit+Formal+Script&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Yellowtail&display=swap" rel="stylesheet">
        <style>
            /* 1. Remove the browser's default spacing */
            body {
                margin: 0;
                padding: 0;
                overflow: hidden; /* Optional: prevents any accidental scrollbars */
                background: linear-gradient(45deg, cyan, lime);
            }

            #GPU_GenScreen {
                width: 100%;
                height: 100vh;
                background: white;
            }

            /* 2. Make the SVG fill the div without the "text gap" at the bottom */
            svg {
                display: block;
            }

            #outterActionBar {
                position: fixed;
                bottom: 0px;
                width: 100vw;
                height: 200px;
                outline: 2px solid black;
                background: white;
                transition: bottom 1s ease-in;
            }

            #actionContainer {
                position: absolute;
                left: 50%;
                bottom: -1vh;
                transform: translateX(-50%);
                max-height: calc(200px + 1vh);
                height: 200px;
                padding-bottom: 1vh;
                width: auto;
                border-radius: 1vh;
                background: transparent;
                
                display: flex;
                flex-direction: row;
                justify-content: center;
                justify-items: center;
                align-items: center;
            }

            #loadGridHolder {
                height: 150px;
                max-width: 500px;
                display: grid;
                grid-template-rows: repeat(auto-fit, auto);
                
                justify-content: center;
                justify-items: center;
                align-items: center;

                column-gap: 2px;
            }

            #loadContainer {
                position: relative;
                grid-row: 1;
                width: 200px;
                height: 35px;
                outline: 3px solid black;
                border-radius: 10px;
                justify-content: left;
                overflow: hidden;
            }

            #loadBar {
                width: 0px;
                max-width: 200px;
                height: 35px;
                border-radius: 10px;
                outline: 1px solid grey;
                background: linear-gradient(
                    90deg, 
                    #0000FF 0%,   /* Deep Blue */
                    #00D4FF 50%,  /* Bright Cyan (The "Shine") */
                    #0000FF 100%  /* Deep Blue */
                );
                background-size: 200% 100%;
                animation: gradientShift 2s linear infinite;
                transition: background 0.3 ease, width 0.3 ease;
            }

            #loadBarText {
                margin: 0px;
                position: absolute;
                top: 50%;
                left: 50%;
                display: flex;
                align-items: center;     /* Vertically centers */
                justify-content: center;    /* Horizontally centers */
                transform: translate(-50%, -50%); /* Perfectly centers it */
                color: #FFBF00;
                text-align: center;
                font-size: 20px;
                width: 100%;
                height: 100%;
                background: transparent;
                text-align: "center";
                font-weight: bold;
                z-index: 5000;
            }

            .elegant-bold {
                width: auto;
                background: transparent;
                justify-items: center;
                justify-content: center;
                align-items: center;
                grid-row: 2;
                font-family: 'Yellowtail', cursive;
                font-weight: bold;
                font-size: 25px;
                color: #1a1a1a; /* Off-black is more elegant than pure black */
                letter-spacing: -1px; /* Tighter spacing looks more professional for bold titles */
                line-height: 1.2;
                text-shadow: 1px 1px 1px rgba(0,0,0,0.05);
                overflow-x: visible;
            }

            .elegant-bold::before {
                font-family: "Arial";
                font-weight: 900;
                font-size: 30px;
                color: #1a1a1a; /* Off-black is more elegant than pure black */
                letter-spacing: -1px; /* Tighter spacing looks more professional for bold titles */
                line-height: 1.2;
                text-shadow: 1px 1px 1px rgba(0,0,0,0.05);
                content: "Â©";
            }

            .futuristicFont {
                width: auto;
                font-family: "Arial";
                 background: transparent;
                justify-items: center;
                justify-content: center;
                align-items: center;
                font-style: italic;
                font-size: 15px;
                color: #1a1a1a; /* Off-black is more elegant than pure black */
                letter-spacing: -1px; /* Tighter spacing looks more professional for bold titles */
                line-height: 1.2;
                text-shadow: 1px 1px 1px rgba(0,0,0,0.05);
                overflow-x: visible;

            }

            @keyframes gradientShift {
                0% { background-position: 200% 0; }
                100% { background-position: -200% 0; }
            }
            
        </style>
    </head>

    <body>
        <div id = "GPU_GenScreen">
            <svg width="100%" height = "100%" style="border: 1px solid #ccc;" id = "blockfill">
                
            </svg>
        </div>

        <div id = "outterActionBar">
            <div id = "actionContainer">
                <video width = "200" height =  "200" loop muted autoplay>
                    <source src="animation/gpuGen-Picsart-BackgroundRemover.mp4" type="video/mp4">
                </video>

                <div id = "loadGridHolder">
                    <div id = "loadContainer">
                        <div id = "loadBar">
                        </div>
                        <h1 id = "loadBarText">
                            0%
                        </h1>
                    </div>

                    
                    <h1 class = "elegant-bold">
                        Zimin 
                         <span class = "futuristicFont">(II<sub>7</sub>) 2026</span>
                    </h1>
                </div>
            </div>
        </div>
    </body>

    <script>
            const wait = (seconds) => new Promise(resolve => setTimeout(resolve, seconds * 1000));

            const basicColors = [
                "red", 
                "blue", 
                "lime", 
                "yellow", 
                "fuchsia", 
                "aqua", 
                "maroon", 
                "navy", 
                "green", 
                "purple", 
                "teal", 
                "silver"
            ];

            let IntervalList = [];
            let bgReloding = true;

            const svgNS = "http://www.w3.org/2000/svg"; // The magic "Namespace" URL
            const canvas = document.getElementById("blockfill");
            const Holder = document.getElementById("GPU_GenScreen");
            const outterActionBar = document.getElementById("outterActionBar");
            const loadBar = document.getElementById("loadBar");
            const loadBarText = document.getElementById("loadBarText");

            function generateBackground() {
                let i_horizontal = window.innerWidth / 50;
                let i_vertical = window.innerHeight / 50;



                for (let y = 0; y < i_vertical; y++) {
                    for (let x = 0; x < i_horizontal; x++) {
                        let posX = x * 50;
                        let posY = y * 50;

                        // 1. Create the element with the Namespace
                        const rect = document.createElementNS(svgNS, "rect");

                        // 2. Use setAttribute for EVERYTHING
                        rect.setAttribute("x", posX);
                        rect.setAttribute("y", posY);
                        rect.setAttribute("width", 50);
                        rect.setAttribute("height", 50);

                        const randomColor = basicColors[Math.floor(Math.random() * basicColors.length)];
                        rect.setAttribute("fill", "black");
                        
                        // Optional: Add a border so you can see the grid
                        rect.setAttribute("stroke", "white");
                        rect.setAttribute("stroke-width", "1");

                        canvas.appendChild(rect);
                    }
                }

                let colorChangeInterval = setInterval(() => {

                    document.querySelectorAll("rect").forEach(e => {
                        const randomColor = basicColors[Math.floor(Math.random() * basicColors.length)];
                        e.setAttribute("fill", randomColor);
                    });
                }, 2000);

                IntervalList.push(colorChangeInterval);
            };

            function clearBackground() {
                canvas.innerHTML = ""
            }

            function exitInterval() {
                IntervalList.forEach(i => {
                    clearInterval(i);
                })
            }

            async function unloadBackground() {
                outterActionBar.style.bottom = "-1000px";
                await wait(2);
                bgReloding = false;
                exitInterval();

                let rectList = []

                document.querySelectorAll("rect").forEach(e => {
                    rectList.push(e);
                });

                Holder.style.background = "transparent";

                while (rectList.length > 0) {
                    const randomIndex = Math.floor(Math.random() * rectList.length);
                    const randomRect = rectList[randomIndex];

                    // Remove from screen
                    if (randomRect.parentNode) {
                        canvas.removeChild(randomRect);
                    }

                    rectList.splice(randomIndex, 1);

                    await wait(0.01); 
                }
            };

            async function loadingBarAuto() {
                  const factor = 2;

                for (let i = 0; i < 200; i++) {

                    let currentWidth = loadBar.offsetWidth; 
                    let newValue = currentWidth + 1;
                    let precentage = Math.floor(newValue / factor);
                    loadBar.style.width = (newValue) + "px";
                    loadBarText.textContent = precentage + "%"
                    await wait(0.05);
                }
            };

            function setLoadingBar(precentage) {
                const factor = 2

                const size = precentage * factor;

                loadBar.style.width = size + "px"
                loadBarText.textContent = precentage + "%"

            }


            loadingBarAuto();
            generateBackground();

            window.addEventListener("resize", () => {
                if (!bgReloding) return

                exitInterval();
                clearBackground();
                generateBackground();
            });

            let debounce = false;

            window.addEventListener("keydown", (event) => {

                if (event.shiftKey && event.key.toUpperCase() == "R") {
                    if (debounce) return;

                    debounce = true;

                    unloadBackground();
                }
            })
    </script>
</html>